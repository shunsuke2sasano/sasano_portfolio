{% extends "base.html" %}
{% load static %}
{% load custom_filters %}

{% block title %}{{ profile.user.username }} のプロフィール{% endblock %}

{% block content %}

<img src="{{ profile.profile_image.url|default_if_none:'/media/profile_images/default_profile_image.png' }}" alt="Profile Image" width="100">
<p>ユーザー名: {{ profile.user.username|default:"未設定" }}</p>
<p>性別: {{ profile.get_gender_display|default:"未設定" }}</p>
<p>自己紹介: {{ profile.bio }}</p>
<p>いいね数: {{ profile.likes_count }}</p>
<button class="like-btn" data-user-id="{{ profile.user.id }}">
    👍 {{ profile.likes_count }}
</button>

<script>
    const likeToggleUrl = "{% url 'accounts:like_toggle' profile.user.id %}";
    const csrfToken = "{{ csrf_token|safe }}";
</script>

<script src="{% static 'accounts/like_toggle.js' %}"></script>

{% endblock %}
